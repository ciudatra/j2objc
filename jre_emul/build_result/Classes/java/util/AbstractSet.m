//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/retechretech/dev/tools/lib/j2objc/jre_emul/apache_harmony/classlib/modules/luni/src/main/java/java/util/AbstractSet.java
//
//  Created by retechretech on 13-3-15.
//

#import "java/lang/ClassCastException.h"
#import "java/lang/NullPointerException.h"
#import "java/util/AbstractCollection.h"
#import "java/util/AbstractSet.h"
#import "java/util/Collection.h"
#import "java/util/Iterator.h"
#import "java/util/Set.h"

@implementation JavaUtilAbstractSet

+ (NSArray *)memDebugStaticReferences {
  NSMutableArray *result = [NSMutableArray array];
  return result;
}

- (id)init {
  return JreMemDebugAdd([super init]);
}

- (BOOL)isEqual:(id)object {
  if (self == object) {
    return YES;
  }
  if ([object conformsToProtocol: @protocol(JavaUtilSet)]) {
    id<JavaUtilSet> s = (id<JavaUtilSet>) object;
    @try {
      return [self size] == [((id<JavaUtilSet>) NIL_CHK(s)) size] && [self containsAllWithJavaUtilCollection:s];
    }
    @catch (JavaLangNullPointerException *ignored) {
      return NO;
    }
    @catch (JavaLangClassCastException *ignored) {
      return NO;
    }
  }
  return NO;
}

- (NSUInteger)hash {
  int result = 0;
  id<JavaUtilIterator> it = [self iterator];
  while ([((id<JavaUtilIterator>) NIL_CHK(it)) hasNext]) {
    id next = [((id<JavaUtilIterator>) NIL_CHK(it)) next];
    result += next == nil ? 0 : [NIL_CHK(next) hash];
  }
  return result;
}

- (BOOL)removeAllWithJavaUtilCollection:(id<JavaUtilCollection>)collection {
  BOOL result = NO;
  if ([self size] <= [((id<JavaUtilCollection>) NIL_CHK(collection)) size]) {
    id<JavaUtilIterator> it = [self iterator];
    while ([((id<JavaUtilIterator>) NIL_CHK(it)) hasNext]) {
      if ([((id<JavaUtilCollection>) NIL_CHK(collection)) containsWithId:[((id<JavaUtilIterator>) NIL_CHK(it)) next]]) {
        [((id<JavaUtilIterator>) NIL_CHK(it)) remove];
        result = YES;
      }
    }
  }
  else {
    id<JavaUtilIterator> it = [((id<JavaUtilCollection>) NIL_CHK(collection)) iterator];
    while ([((id<JavaUtilIterator>) NIL_CHK(it)) hasNext]) {
      result = [self removeWithId:[((id<JavaUtilIterator>) NIL_CHK(it)) next]] || result;
    }
  }
  return result;
}

- (void)dealloc {
  JreMemDebugRemove(self);
  [super dealloc];
}

@end
