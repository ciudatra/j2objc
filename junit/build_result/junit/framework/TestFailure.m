//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/retechretech/dev/tools/lib/j2objc/junit/build_result/java/junit/framework/TestFailure.java
//
//  Created by retechretech on 13-3-15.
//

#import "java/io/PrintWriter.h"
#import "java/io/StringWriter.h"
#import "java/lang/StringBuffer.h"
#import "java/lang/Throwable.h"
#import "junit/framework/AssertionFailedError.h"
#import "junit/framework/Test.h"
#import "junit/framework/TestFailure.h"

@implementation JunitFrameworkTestFailure

- (id<JunitFrameworkTest>)fFailedTest {
  return [[fFailedTest_ retain] autorelease];
}
- (void)setFFailedTest:(id<JunitFrameworkTest>)fFailedTest {
  JreOperatorRetainedAssign(&fFailedTest_, fFailedTest);
}
@synthesize fFailedTest = fFailedTest_;
- (JavaLangThrowable *)fThrownException {
  return [[fThrownException_ retain] autorelease];
}
- (void)setFThrownException:(JavaLangThrowable *)fThrownException {
  JreOperatorRetainedAssign(&fThrownException_, fThrownException);
}
@synthesize fThrownException = fThrownException_;

- (id)initWithJunitFrameworkTest:(id<JunitFrameworkTest>)failedTest
           withJavaLangThrowable:(JavaLangThrowable *)thrownException {
  if ((self = [super init])) {
    JreOperatorRetainedAssign(&fFailedTest_, failedTest);
    JreOperatorRetainedAssign(&fThrownException_, thrownException);
  }
  return self;
}

- (id<JunitFrameworkTest>)failedTest {
  return fFailedTest_;
}

- (JavaLangThrowable *)thrownException {
  return fThrownException_;
}

- (NSString *)description {
  JavaLangStringBuffer *buffer = [[[JavaLangStringBuffer alloc] init] autorelease];
  [((JavaLangStringBuffer *) NIL_CHK(buffer)) appendWithNSString:[NSString stringWithFormat:@"%@: %@", fFailedTest_, [((JavaLangThrowable *) NIL_CHK(fThrownException_)) getMessage]]];
  return [((JavaLangStringBuffer *) NIL_CHK(buffer)) description];
}

- (NSString *)trace {
  JavaIoStringWriter *stringWriter = [[[JavaIoStringWriter alloc] init] autorelease];
  JavaIoPrintWriter *writer = [[[JavaIoPrintWriter alloc] initWithJavaIoWriter:stringWriter] autorelease];
  [[self thrownException] printStackTraceWithJavaIoPrintWriter:writer];
  JavaLangStringBuffer *buffer = [((JavaIoStringWriter *) NIL_CHK(stringWriter)) getBuffer];
  return [((JavaLangStringBuffer *) NIL_CHK(buffer)) description];
}

- (NSString *)exceptionMessage {
  return [[self thrownException] getMessage];
}

- (BOOL)isFailure {
  return [[self thrownException] isKindOfClass:[JunitFrameworkAssertionFailedError class]];
}

- (void)dealloc {
  JreOperatorRetainedAssign(&fThrownException_, nil);
  JreOperatorRetainedAssign(&fFailedTest_, nil);
  [super dealloc];
}

- (void)copyAllPropertiesTo:(id)copy {
  [super copyAllPropertiesTo:copy];
  JunitFrameworkTestFailure *typedCopy = (JunitFrameworkTestFailure *) copy;
  typedCopy.fFailedTest = fFailedTest_;
  typedCopy.fThrownException = fThrownException_;
}

@end
